# ===================================
# GitHub MCP Server Configuration
# ===================================

# REQUIRED: Your GitHub Personal Access Token
# Get one at: https://github.com/settings/tokens
# Required scopes:
#   - public_repo (basic read access)
#   - repo (full access - required for PR creation)
GITHUB_PAT=ghp_yourPersonalAccessTokenHere

# Server Configuration
PORT=8788
HOST=localhost

# GitHub API Configuration
GITHUB_API_TIMEOUT=30000      # 30 seconds
GITHUB_RETRY_ATTEMPTS=3        # Number of retry attempts

# Rate Limiting Configuration
RATE_LIMIT_WINDOW=900000       # 15 minutes in milliseconds
RATE_LIMIT_MAX=1000           # Max requests per window

# Cache Configuration
CACHE_TTL=300000              # 5 minutes in milliseconds
CACHE_MAX_SIZE=1000           # Max number of cached items

# Security Configuration
BODY_SIZE_LIMIT=10mb          # Max request body size
TRUST_PROXY=false             # Set to true if behind a proxy
ALLOWED_ORIGINS=https://chatgpt.com,https://chat.openai.com,https://platform.openai.com

# Logging Configuration
LOG_LEVEL=info                # debug, info, warn, error
ENABLE_ACCESS_LOG=false       # Enable access logging

# ===================================
# PR Creation Configuration (OPTIONAL)
# ===================================

# Enable PR Creation Feature
# WARNING: This allows ChatGPT to create pull requests in whitelisted repos
PR_ENABLED=false

# Repository Whitelist
# Comma-separated list of repos that can have PRs created
# Format: owner/repo or owner/* for all repos under owner
# Examples:
#   - btangonan/project1,btangonan/project2
#   - myorg/*,btangonan/specific-repo
PR_WHITELIST=

# PR Rate Limiting (separate from general rate limit)
PR_RATE_LIMIT_MAX=5           # Max PRs per window
PR_RATE_LIMIT_WINDOW=3600000  # 1 hour in milliseconds

# PR Audit Logging
# Path to audit log file for PR operations
PR_AUDIT_LOG=./pr_audit.log

# PR Template Requirements
# If true, all PR bodies must include [ChatGPT] tag
PR_TEMPLATE_REQUIRED=false

# ===================================
# PR Merge Configuration (OPTIONAL)
# ===================================
# Enable PR Merge Feature
# WARNING: This allows ChatGPT to merge pull requests in whitelisted repos
PR_MERGE_ENABLED=false

# PR Merge Rate Limiting (separate from PR creation rate limit)
PR_MERGE_RATE_LIMIT_MAX=5
PR_MERGE_RATE_LIMIT_WINDOW=3600000  # 1 hour in milliseconds

# Note: PAT typically requires 'repo' scope for merges. Some org policies may also require 'read:org' to read checks.

# ===================================
# Example PR Configuration (uncomment to enable)
# ===================================

# PR_ENABLED=true
# PR_WHITELIST=btangonan/test-repo,btangonan/another-repo
# PR_RATE_LIMIT_MAX=5
# PR_RATE_LIMIT_WINDOW=3600000
# PR_AUDIT_LOG=./pr_audit.log
# PR_TEMPLATE_REQUIRED=true